<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Subtasks</title>
    <link th:href="@{/styles/projectPage.css}" rel="stylesheet">
</head>
<body>

<div class="header">
    <img class="logo" src="/styles/logo.PNG">
    <div>
        <a class="header_button" href="/projects">Projects</a>
        <a class="header_button" href="/backToSubProject">SubProjects</a>
        <a class="header_button" href="/backToTasks">Tasks</a>
    </div>
    <div>
        <a class="header_button" href="/createSubTask">Create subTask</a>
    </div>

</div>


<div class="project_body">
    <h2 class="header_project_title">All subTasks</h2>
    <div class="project_container">
        <div class="project_card_container" th:each="subTask : ${subTasks}">
                <div class="project_card">
                    <p class="title" th:text="${subTask.getSubTaskName}"><br></p>
                    <p class="description" th:text="${subTask.getSubTaskDescription()}"></p>
                    <p th:text="${subTask.getEstimatetWorkHours()}">Total required time</p>
                </div>
            <a class="project_changebtn" th:href="@{/updateSubTask(id=${subTask.getSubTaskId()})}">CHANGE</a>
            <div style="margin-top: 20px;">
                <form name="dependency" action="/createSubTaskDependency/submit" method="post">
                    <label for="dependencies">Select subtask to depend on: </label>
                    <select  id="dependencies">
                        <option value="">Select Task</option>
                        <option th:each="dependency : ${subTasks}"   th:value="${dependency.getSubTaskName()}" th:text="${dependency.getSubTaskName()}"
                                th:if="${dependency.getSubTaskId() != subTask.getTaskId()}"></option>
                    </select>
                    <!-- <a class="project_changebtn" th:href="@{/createTaskDependency/submit(id=${task.getTaskId()})}" class="btn btn-detail">Submit</a> -->
                </form>
            </div>
        </div>
    </div>
</div>


</body>
</html>